<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<modalities>
    <modality>
        <name>Data Feed</name>
        <inputSpecification>
             <column>
	            <name>heartbeat</name>
	            <type>DOUBLE</type>
	            <source>HEARTBEAT</source>
            </column>
        </inputSpecification>
        <init-action>
            <uri>/data/london-marathon</uri>
            <method>DELETE</method>
        </init-action>
        <action>
            <uri>/data/london-marathon</uri>
            <method>PUT</method>
            <repeat>true</repeat>
						<trigger after="60"/>
        </action>
    </modality>
    <modality>
        <name>Single Analysis</name>
        <init-action>
            <uri>/users/london-marathon</uri>
            <method>GET</method>
        </init-action>
        <action>
            <uri>/workflow/ecg.xml</uri>
            <method>POST</method>
            <parameter>
                <name>userId</name>
                <reference xpath="//users/user"/>
            </parameter>
             <parameter>
                <name>groupId</name>
                <value>london-marathon</value>
            </parameter>
            <repeat>false</repeat>
        </action>
        <outputSpecification>
		    <column>
		        <name>rr</name>
		        <type>DOUBLE</type>
		    </column>
		    <view>/view/view.xml</view>
		</outputSpecification>
    </modality>
    <modality>
        <name>Global Analysis</name>
        <init-action>
            <uri>/users/london-marathon</uri>
            <method>GET</method>
        </init-action>
        <action>
            <uri>/workflow/ecg.xml</uri>
            <method>POST</method>
            <parameter>
                <name>userId</name>
                <reference xpath="//users/user" type="MAP"/>
            </parameter>
             <parameter>
                <name>groupId</name>
                <value>london-marathon</value>
            </parameter>
            <repeat>false</repeat>
        </action>
        <outputSpecification>
		    <column>
		        <name>rr</name>
		        <type>DOUBLE</type>
		    </column>
		    <view>/view/view.xml</view>
		</outputSpecification>
    </modality>
</modalities>
